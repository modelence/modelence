---
sidebar_position: 1
title: consumeRateLimit
---

[API Reference](/api-reference/modelence/server/functions/../../../index) / [modelence](/api-reference/modelence/server/functions/../../index) / [server](/api-reference/modelence/server/functions/../index) / consumeRateLimit

> **consumeRateLimit**(`options`): `Promise`\<`void`\>

Defined in: [packages/modelence/src/rate-limit/rules.ts:30](https://github.com/modelence/modelence/blob/15f8611bcd6349c16f3ccb839fcc035d5d7e72ae/packages/modelence/src/rate-limit/rules.ts#L30)

This function will check all rate limit rules on the specified bucket and type,
throw an error if any of them are exceeded and increase the count of the rate limit record.

## Example

```ts
await consumeRateLimit({ bucket: 'api', type: 'ip', value: '127.0.0.1' });
```

## Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `options` | \{ `bucket`: `string`; `message?`: `string`; `type`: [`RateLimitType`](/api-reference/modelence/server/functions/../type-aliases/RateLimitType); `value`: `string`; \} | - |
| `options.bucket` | `string` | The bucket for the rate limit. |
| `options.message?` | `string` | Optional custom error message when the rate limit is exceeded. |
| `options.type` | [`RateLimitType`](/api-reference/modelence/server/functions/../type-aliases/RateLimitType) | The type of the rate limit. |
| `options.value` | `string` | The value for the rate limit. |

## Returns

`Promise`\<`void`\>
