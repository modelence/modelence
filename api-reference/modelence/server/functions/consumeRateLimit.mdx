---
sidebar_position: 1
title: consumeRateLimit
---

[API Reference](/api-reference/modelence/server/functions/../../../index) / [modelence](/api-reference/modelence/server/functions/../../index) / [server](/api-reference/modelence/server/functions/../index) / consumeRateLimit

> **consumeRateLimit**(`options`): `Promise`\<`void`\>

Defined in: [src/rate-limit/rules.ts:29](https://github.com/modelence/modelence/blob/07be4eb0140a3cfe4c9f1ba12b97b45d1c4600f0/packages/modelence/src/rate-limit/rules.ts#L29)

This function will check all rate limit rules on the specified bucket and type,
throw an error if any of them are exceeded and increase the count of the rate limit record.

## Example

```ts
await consumeRateLimit({ bucket: 'api', type: 'ip', value: '127.0.0.1' });
```

## Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `options` | \{ `bucket`: `string`; `type`: [`RateLimitType`](/api-reference/modelence/server/functions/../type-aliases/RateLimitType); `value`: `string`; \} | - |
| `options.bucket` | `string` | The bucket for the rate limit. |
| `options.type` | [`RateLimitType`](/api-reference/modelence/server/functions/../type-aliases/RateLimitType) | The type of the rate limit. |
| `options.value` | `string` | The value for the rate limit. |

## Returns

`Promise`\<`void`\>
